var app={initialize:function(){this.bindEvents();},bindEvents:function(){document.addEventListener('deviceready',this.onDeviceReady,false);},onDeviceReady:function(){app.receivedEvent('deviceready');app.locateMe();},locateMe:function(){alert("working");navigator.geolocation.getCurrentPosition(successCallback,errorCallback);function successCallback(position){var msg="You are at latitude = "+position.coords.latitude+" longitude = "+position.coords.longitude;alert(msg);}function errorCallback(error){alert(error.code);}},receivedEvent:function(id){var parentElement=document.getElementById(id);var listeningElement=parentElement.querySelector('.listening');var receivedElement=parentElement.querySelector('.received');listeningElement.setAttribute('style','display:none;');receivedElement.setAttribute('style','display:block;');console.log('Received Event: '+id);}};